## DaJet Script

[Начало](https://github.com/zhichkin/dajet/tree/main/doc/dajet-script/README.md)

### Вызов внешних скриптов

Вызов одного скрипта DaJet Script из другого выполняется при помощи команды **EXECUTE**. Синтаксис этой команды выглядит следующим образом:

```SQL
EXECUTE 'file://<script>' [WITH <parameters>] [INTO <variable>]
```
**\<script\>** - путь или шаблон пути к файлу вызываемого скрипта относительно корневого каталога выполнения утилиты или сервера DaJet.<br>
**\<parameters\>** - (опционально) сопоставление имён параметров вызываемого и вызывающего скриптов.<br>
**\<variable\>** - (опционально) переменная вызывающего скрипта, в которую вызываемый скрипт возвращает результат своего выполнения при помощи команды **RETURN**.

Если предложение **WITH** команды **EXECUTE** не используется, тогда вызываемый скрипт выполняется без передачи в него каких-либо параметров. Если же не используется предложение **INTO**, тогда скрипт выполняется в качестве процедуры, невозвращающей никакого значения.

Обычный путь к файлу вызываемого скрипта выглядит следующим очевидным образом:
```
EXECUTE 'file://script.djs'
```

Шаблон пути к файлу вызываемого скрипта включает в себя переменные или обращения к свойствам объектов типа ```object``` для динамической подстановки значений (переменные шаблона). Эти переменные заключаются в фигурные скобки ```{``` и ```}```. Например, если есть каталог ```scripts```, то динамическое обращение к скриптам, расположенным в нём, выполняется следующим образом:
```
DECLARE @file string = 'script1.djs'

EXECUTE 'file://scripts/{@file}'

-- После подстановки значения переменной @file в шаблон
-- путь к файлу вызываемого скрипта будет выглядеть так:
-- file://scripts/script1.djs
```


[Наверх](#вызов-внешних-скриптов)