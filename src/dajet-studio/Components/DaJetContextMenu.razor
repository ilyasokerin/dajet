@using DaJet.Studio.Controllers

@inject IJSRuntime JSRuntime;
@inject DaJetHttpClient DaJetClient;
@inject DaJetCodeController CodeController;

<dialog id="dajet-context-menu" class="dajet-context-menu">

    <div>
        <span class="dajet-context-menu-close-button" onclick="CloseCodeItemContextMenu()">✕</span>
        <span class="dajet-context-menu-title">@Title</span>
    </div>

    <ul>
        @if (IsFolder)
        {
            <li>
                <img src="/img/folder-create.png" alt="" class="dajet-context-menu-item-icon" />
                <span class="dajet-context-menu-item" @onclick="CreateScriptFolder">Создать каталог</span>
            </li>
            <li>
                <img src="/img/script-create.png" alt="" class="dajet-context-menu-item-icon" />
                <span class="dajet-context-menu-item" @onclick="CreateScriptFile">Создать скрипт</span>
            </li>
            @if (Title == "/code")
            {
                <li>
                    <img src="/img/log.png" alt="" class="dajet-context-menu-item-icon" />
                    <span class="dajet-context-menu-item" @onclick="OpenServerLogPage">Открыть журнал</span>
                </li>
            }
            else
            {
                <li>
                    <img src="/img/folder-delete.png" alt="" class="dajet-context-menu-item-icon" />
                    <span class="dajet-context-menu-item" @onclick="DeleteScriptFolder">Удалить каталог</span>
                </li>
            }
        }
        else
        {
            <li>
                <img src="/img/script-create.png" alt="" class="dajet-context-menu-item-icon" />
                <span class="dajet-context-menu-item" @onclick="CreateScriptFile">Создать скрипт</span>
            </li>
            <li>
                <img src="/img/script-delete.png" alt="" class="dajet-context-menu-item-icon" />
                <span class="dajet-context-menu-item" @onclick="DeleteScriptFile">Удалить скрипт</span>
            </li>
        }
    </ul>

</dialog>