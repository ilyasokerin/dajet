CREATE TYPE ENTITY PRIMARY KEY Ref
(
  Ref uuid
)

CREATE TYPE Metadata AS ENTITY
(
  Name string(64),
  Code integer IDENTITY
)

CREATE TYPE TypeDef AS Metadata
(
  TableName string(32) NULL,
  BaseType  TypeDef, -- inheritance
  NestType  TypeDef  -- aggregation  
)
CREATE TABLE md-types OF Metadata.TypeDef

CREATE TYPE PropertyDef AS Metadata
(
  Owner         TypeDef,
  Ordinal       integer,
  DataType      integer,
  DataSize      numeric(5,1),
  ColumnName    string(32),
  IsNullable    boolean,
  IsPrimaryKey  boolean,
  IsDbGenerated boolean
)
CREATE TABLE md-properties OF Metadata.PropertyDef

CREATE TYPE UnionDef AS Metadata
(
  DataType integer,
  DataSize numeric(5,1)
)
CREATE TABLE md-unions OF Metadata.UnionDef

CREATE TYPE Relation PRIMARY KEY Source, Target
(
  Source UNION(PropertyDef, UnionDef),
  Target TypeDef
)
CREATE TABLE md-relations OF Relation